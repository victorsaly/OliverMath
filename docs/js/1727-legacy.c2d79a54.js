(self["webpackChunkOliverMath"]=self["webpackChunkOliverMath"]||[]).push([[1727],{2092:function(n,e,t){var r=t(9974),o=t(1702),u=t(8361),a=t(7908),i=t(6244),l=t(5417),s=o([].push),c=function(n){var e=1==n,t=2==n,o=3==n,c=4==n,p=6==n,f=7==n,d=5==n||p;return function(m,v,h,w){for(var g,b,_=a(m),k=u(_),I=r(v,h),x=i(k),y=0,W=w||l,A=e?W(m,x):t||f?W(m,0):void 0;x>y;y++)if((d||y in k)&&(g=k[y],b=I(g,y,_),n))if(e)A[y]=b;else if(b)switch(n){case 3:return!0;case 5:return g;case 6:return y;case 2:s(A,g)}else switch(n){case 4:return!1;case 7:s(A,g)}return p?-1:o||c?c:A}};n.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6),filterReject:c(7)}},7475:function(n,e,t){var r=t(7854),o=t(3157),u=t(4411),a=t(111),i=t(5112),l=i("species"),s=r.Array;n.exports=function(n){var e;return o(n)&&(e=n.constructor,u(e)&&(e===s||o(e.prototype))?e=void 0:a(e)&&(e=e[l],null===e&&(e=void 0))),void 0===e?s:e}},5417:function(n,e,t){var r=t(7475);n.exports=function(n,e){return new(r(n))(0===e?0:e)}},6091:function(n,e,t){var r=t(6530).PROPER,o=t(7293),u=t(1361),a="​᠎";n.exports=function(n){return o((function(){return!!u[n]()||a[n]()!==a||r&&u[n].name!==n}))}},1249:function(n,e,t){"use strict";var r=t(2109),o=t(2092).map,u=t(1194),a=u("map");r({target:"Array",proto:!0,forced:!a},{map:function(n){return o(this,n,arguments.length>1?arguments[1]:void 0)}})},3210:function(n,e,t){"use strict";var r=t(2109),o=t(3111).trim,u=t(6091);r({target:"String",proto:!0,forced:u("trim")},{trim:function(){return o(this)}})},1727:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return g}});t(3210);var r=t(6252),o=t(3577),u=(0,r.Uk)("Assistant");function a(n,e,t,a,i,l){var s=(0,r.up)("ion-title"),c=(0,r.up)("ion-toolbar"),p=(0,r.up)("ion-header"),f=(0,r.up)("ion-label"),d=(0,r.up)("ion-item"),m=(0,r.up)("ion-list"),v=(0,r.up)("ion-textarea"),h=(0,r.up)("ion-button"),w=(0,r.up)("ion-content"),g=(0,r.up)("ion-page");return(0,r.wg)(),(0,r.j4)(g,null,{default:(0,r.w5)((function(){return[(0,r.Wm)(p,null,{default:(0,r.w5)((function(){return[(0,r.Wm)(c,null,{default:(0,r.w5)((function(){return[(0,r.Wm)(s,null,{default:(0,r.w5)((function(){return[u]})),_:1})]})),_:1})]})),_:1}),(0,r.Wm)(w,{class:"ion-padding"},{default:(0,r.w5)((function(){return[(0,r.Wm)(m,null,{default:(0,r.w5)((function(){return[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(a.messages,(function(n,e){return(0,r.wg)(),(0,r.j4)(d,{key:e,lines:"none"},{default:(0,r.w5)((function(){return[(0,r.Wm)(f,null,{default:(0,r.w5)((function(){return[(0,r._)("h3",null,(0,o.zw)("user"===n.role?"You":"Assistant"),1),(0,r._)("p",null,(0,o.zw)(n.content),1)]})),_:2},1024)]})),_:2},1024)})),128))]})),_:1}),(0,r.Wm)(d,null,{default:(0,r.w5)((function(){return[(0,r.Wm)(v,{modelValue:a.input,"onUpdate:modelValue":e[0]||(e[0]=function(n){return a.input=n}),"auto-grow":"",disabled:a.loading,placeholder:"Ask a math question or request an explanation..."},null,8,["modelValue","disabled"])]})),_:1}),(0,r.Wm)(h,{expand:"block",disabled:a.loading||!a.input.trim(),onClick:a.send},{default:(0,r.w5)((function(){return[(0,r.Uk)((0,o.zw)(a.loading?"Thinking…":"Send"),1)]})),_:1},8,["disabled","onClick"])]})),_:1})]})),_:1})}var i=t(8534),l=(t(5666),t(1249),t(2262)),s=t(9669),c=t.n(s),p="http://localhost:7071",f=c().create({baseURL:p,headers:{"Content-Type":"application/json"},timeout:15e3}),d=f,m=t(4800),v={name:"Assistant",components:{IonPage:m._i,IonHeader:m.Gu,IonToolbar:m.sr,IonTitle:m.wd,IonContent:m.W2,IonList:m.q_,IonItem:m.Ie,IonLabel:m.Q$,IonTextarea:m.g2,IonButton:m.YG},setup:function(){var n=(0,l.qj)([]),e=(0,l.iH)(""),t=(0,l.iH)(!1),r=function(){var r=(0,i.Z)(regeneratorRuntime.mark((function r(){var o,u,a,i,l,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(o=e.value.trim(),o){r.next=3;break}return r.abrupt("return");case 3:return n.push({role:"user",content:o}),e.value="",t.value=!0,r.prev=6,r.next=9,d.post("/api/chat",{messages:n.map((function(n){return{role:n.role,content:n.content}}))});case 9:l=r.sent,s=l.data,n.push({role:"assistant",content:s.reply||(null===(u=s.choices)||void 0===u||null===(a=u[0])||void 0===a||null===(i=a.message)||void 0===i?void 0:i.content)||"(No reply)"}),r.next=18;break;case 14:r.prev=14,r.t0=r["catch"](6),n.push({role:"assistant",content:"Sorry, there was an error. Please try again."}),console.error(r.t0);case 18:return r.prev=18,t.value=!1,r.finish(18);case 21:case"end":return r.stop()}}),r,null,[[6,14,18,21]])})));return function(){return r.apply(this,arguments)}}();return{messages:n,input:e,loading:t,send:r}}},h=t(3744);const w=(0,h.Z)(v,[["render",a],["__scopeId","data-v-1a7b9a6a"]]);var g=w}}]);
//# sourceMappingURL=1727-legacy.c2d79a54.js.map