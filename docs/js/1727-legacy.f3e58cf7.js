(self["webpackChunkOliverMath"]=self["webpackChunkOliverMath"]||[]).push([[1727],{2092:function(n,e,t){var r=t(9974),u=t(1702),o=t(8361),a=t(7908),i=t(6244),s=t(5417),l=u([].push),c=function(n){var e=1==n,t=2==n,u=3==n,c=4==n,p=6==n,f=7==n,d=5==n||p;return function(m,v,h,w){for(var g,b,_=a(m),k=o(_),I=r(v,h),x=i(k),y=0,W=w||s,A=e?W(m,x):t||f?W(m,0):void 0;x>y;y++)if((d||y in k)&&(g=k[y],b=I(g,y,_),n))if(e)A[y]=b;else if(b)switch(n){case 3:return!0;case 5:return g;case 6:return y;case 2:l(A,g)}else switch(n){case 4:return!1;case 7:l(A,g)}return p?-1:u||c?c:A}};n.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6),filterReject:c(7)}},7475:function(n,e,t){var r=t(7854),u=t(3157),o=t(4411),a=t(111),i=t(5112),s=i("species"),l=r.Array;n.exports=function(n){var e;return u(n)&&(e=n.constructor,o(e)&&(e===l||u(e.prototype))?e=void 0:a(e)&&(e=e[s],null===e&&(e=void 0))),void 0===e?l:e}},5417:function(n,e,t){var r=t(7475);n.exports=function(n,e){return new(r(n))(0===e?0:e)}},6091:function(n,e,t){var r=t(6530).PROPER,u=t(7293),o=t(1361),a="​᠎";n.exports=function(n){return u((function(){return!!o[n]()||a[n]()!==a||r&&o[n].name!==n}))}},1249:function(n,e,t){"use strict";var r=t(2109),u=t(2092).map,o=t(1194),a=o("map");r({target:"Array",proto:!0,forced:!a},{map:function(n){return u(this,n,arguments.length>1?arguments[1]:void 0)}})},3210:function(n,e,t){"use strict";var r=t(2109),u=t(3111).trim,o=t(6091);r({target:"String",proto:!0,forced:o("trim")},{trim:function(){return u(this)}})},1727:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return g}});t(3210);var r=t(6252),u=t(3577),o=(0,r.Uk)("Assistant");function a(n,e,t,a,i,s){var l=(0,r.up)("ion-title"),c=(0,r.up)("ion-toolbar"),p=(0,r.up)("ion-header"),f=(0,r.up)("ion-label"),d=(0,r.up)("ion-item"),m=(0,r.up)("ion-list"),v=(0,r.up)("ion-textarea"),h=(0,r.up)("ion-button"),w=(0,r.up)("ion-content"),g=(0,r.up)("ion-page");return(0,r.wg)(),(0,r.j4)(g,null,{default:(0,r.w5)((function(){return[(0,r.Wm)(p,null,{default:(0,r.w5)((function(){return[(0,r.Wm)(c,null,{default:(0,r.w5)((function(){return[(0,r.Wm)(l,null,{default:(0,r.w5)((function(){return[o]})),_:1})]})),_:1})]})),_:1}),(0,r.Wm)(w,{class:"ion-padding"},{default:(0,r.w5)((function(){return[(0,r.Wm)(m,null,{default:(0,r.w5)((function(){return[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(a.messages,(function(n,e){return(0,r.wg)(),(0,r.j4)(d,{key:e,lines:"none"},{default:(0,r.w5)((function(){return[(0,r.Wm)(f,null,{default:(0,r.w5)((function(){return[(0,r._)("h3",null,(0,u.zw)("user"===n.role?"You":"Assistant"),1),(0,r._)("p",null,(0,u.zw)(n.content),1)]})),_:2},1024)]})),_:2},1024)})),128))]})),_:1}),(0,r.Wm)(d,null,{default:(0,r.w5)((function(){return[(0,r.Wm)(v,{modelValue:a.input,"onUpdate:modelValue":e[0]||(e[0]=function(n){return a.input=n}),"auto-grow":"",disabled:a.loading,placeholder:"Ask a math question or request an explanation..."},null,8,["modelValue","disabled"])]})),_:1}),(0,r.Wm)(h,{expand:"block",disabled:a.loading||!a.input.trim(),onClick:a.send},{default:(0,r.w5)((function(){return[(0,r.Uk)((0,u.zw)(a.loading?"Thinking…":"Send"),1)]})),_:1},8,["disabled","onClick"])]})),_:1})]})),_:1})}var i=t(8534),s=(t(5666),t(1249),t(2262)),l=t(9669),c=t.n(l),p="https://olivermath-api.azurewebsites.net",f=c().create({baseURL:p,headers:{"Content-Type":"application/json"},timeout:15e3}),d=f,m=t(4800),v={name:"Assistant",components:{IonPage:m._i,IonHeader:m.Gu,IonToolbar:m.sr,IonTitle:m.wd,IonContent:m.W2,IonList:m.q_,IonItem:m.Ie,IonLabel:m.Q$,IonTextarea:m.g2,IonButton:m.YG},setup:function(){var n=(0,s.qj)([]),e=(0,s.iH)(""),t=(0,s.iH)(!1),r=function(){var r=(0,i.Z)(regeneratorRuntime.mark((function r(){var u,o,a,i,s,l;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(u=e.value.trim(),u){r.next=3;break}return r.abrupt("return");case 3:return n.push({role:"user",content:u}),e.value="",t.value=!0,r.prev=6,r.next=9,d.post("/api/chat",{messages:n.map((function(n){return{role:n.role,content:n.content}}))});case 9:s=r.sent,l=s.data,n.push({role:"assistant",content:l.reply||(null===(o=l.choices)||void 0===o||null===(a=o[0])||void 0===a||null===(i=a.message)||void 0===i?void 0:i.content)||"(No reply)"}),r.next=18;break;case 14:r.prev=14,r.t0=r["catch"](6),n.push({role:"assistant",content:"Sorry, there was an error. Please try again."}),console.error(r.t0);case 18:return r.prev=18,t.value=!1,r.finish(18);case 21:case"end":return r.stop()}}),r,null,[[6,14,18,21]])})));return function(){return r.apply(this,arguments)}}();return{messages:n,input:e,loading:t,send:r}}},h=t(3744);const w=(0,h.Z)(v,[["render",a],["__scopeId","data-v-1a7b9a6a"]]);var g=w}}]);
//# sourceMappingURL=1727-legacy.f3e58cf7.js.map