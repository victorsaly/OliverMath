{"version":3,"file":"js/7039.b9b3b09d.js","mappings":"0MAImB,a,sSAHjBA,EAAAA,EAAAA,IA6BWC,EAAA,M,kBA5BT,IAIa,EAJbC,EAAAA,EAAAA,IAIaC,EAAA,M,kBAHX,IAEc,EAFdD,EAAAA,EAAAA,IAEcE,EAAA,M,kBADZ,IAAgC,EAAhCF,EAAAA,EAAAA,IAAgCG,EAAA,M,kBAArB,IAAS,M,yBAGxBH,EAAAA,EAAAA,IAsBcI,EAAA,CAtBDC,MAAM,eAAa,C,kBAC9B,IAOW,EAPXL,EAAAA,EAAAA,IAOWM,EAAA,M,kBANC,IAA4B,gBAAtCC,EAAAA,EAAAA,IAKWC,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IALkBC,EAAAA,UAAQ,CAAnBC,EAAGC,M,WAArBd,EAAAA,EAAAA,IAKWe,EAAA,CAL6BC,IAAKF,EAAKG,MAAM,QAAxD,C,kBACE,IAGY,EAHZf,EAAAA,EAAAA,IAGYgB,EAAA,M,kBAFV,IAAsD,EAAtDC,EAAAA,EAAAA,GAAsD,WAAAC,EAAAA,EAAAA,IAAzC,SAANP,EAAEQ,KAAI,uBACbF,EAAAA,EAAAA,GAAsB,UAAAC,EAAAA,EAAAA,IAAhBP,EAAES,SAAO,M,KAFjB,S,KADF,kB,OAQFpB,EAAAA,EAAAA,IAOWa,EAAA,M,kBANT,IAKE,EALFb,EAAAA,EAAAA,IAKEqB,EAAA,C,WAJSX,EAAAA,M,qCAAAA,EAAAA,MAAKY,GACd,eACCC,SAAUb,EAAAA,QACXc,YAAY,oDAJd,qC,OAQFxB,EAAAA,EAAAA,IAEayB,EAAA,CAFDC,OAAO,QAASH,SAAUb,EAAAA,UAAYA,EAAAA,MAAMiB,OAASC,QAAOlB,EAAAA,MAAxE,C,kBACE,IAAoC,mBAAjCA,EAAAA,QAAO,0B,KADZ,6B,gDCxBN,MAAMmB,EAAUC,wBAEVC,EAAMC,IAAAA,OAAa,CACvBH,QAAAA,EACAI,QAAS,CACP,eAAgB,oBAElBC,QAAS,OAGX,Q,UD0BA,GACEC,KAAM,YACNC,WAAY,CAAEC,QAAF,KAAWC,UAAX,KAAsBC,WAAtB,KAAkCC,SAAlC,KAA4CC,WAA5C,KAAwDC,QAAxD,KAAiEC,QAAjE,KAA0EC,SAA1E,KAAoFC,YAApF,KAAiGC,UAAAA,EAAAA,IAC7GC,QACE,MAAMC,GAAWC,EAAAA,EAAAA,IAAS,IACpBC,GAAQC,EAAAA,EAAAA,IAAI,IACZC,GAAUD,EAAAA,EAAAA,KAAI,GAEdE,EAAOC,UACX,MAAMC,EAAOL,EAAMM,MAAM7B,OACzB,GAAK4B,EAAL,CACAP,EAASS,KAAK,CAAEtC,KAAM,OAAQC,QAASmC,IACvCL,EAAMM,MAAQ,GACdJ,EAAQI,OAAQ,EAChB,IACE,MAAM,KAAEE,SAAe3B,EAAAA,KAAS,YAAa,CAAEiB,SAAUA,EAASW,KAAIhD,IAAK,CAAGQ,KAAMR,EAAEQ,KAAMC,QAAST,EAAES,cACvG4B,EAASS,KAAK,CAAEtC,KAAM,YAAaC,QAASsC,EAAKE,OAASF,EAAKG,UAAU,IAAIC,SAAS1C,SAAW,eACjG,MAAO2C,GACPf,EAASS,KAAK,CAAEtC,KAAM,YAAaC,QAAS,iDAE5C4C,QAAQC,MAAMF,GANhB,QAQEX,EAAQI,OAAQ,KAIpB,MAAO,CAAER,SAAAA,EAAUE,MAAAA,EAAOE,QAAAA,EAASC,KAAAA,K,UEzDvC,MAAMa,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF","sources":["webpack://OliverMath/./src/views/Assistant.vue","webpack://OliverMath/./src/services/api.js","webpack://OliverMath/./src/views/Assistant.vue?508c"],"sourcesContent":["<template>\n  <ion-page>\n    <ion-header>\n      <ion-toolbar>\n        <ion-title>Assistant</ion-title>\n      </ion-toolbar>\n    </ion-header>\n    <ion-content class=\"ion-padding\">\n      <ion-list>\n        <ion-item v-for=\"(m, idx) in messages\" :key=\"idx\" lines=\"none\">\n          <ion-label>\n            <h3>{{ m.role === 'user' ? 'You' : 'Assistant' }}</h3>\n            <p>{{ m.content }}</p>\n          </ion-label>\n        </ion-item>\n      </ion-list>\n\n      <ion-item>\n        <ion-textarea\n          v-model=\"input\"\n          auto-grow\n          :disabled=\"loading\"\n          placeholder=\"Ask a math question or request an explanation...\"\n        />\n      </ion-item>\n\n      <ion-button expand=\"block\" :disabled=\"loading || !input.trim()\" @click=\"send\">\n        {{ loading ? 'Thinkingâ€¦' : 'Send' }}\n      </ion-button>\n    </ion-content>\n  </ion-page>\n</template>\n\n<script>\nimport { reactive, ref } from 'vue';\nimport api from '../services/api';\nimport { IonPage, IonHeader, IonToolbar, IonTitle, IonContent, IonList, IonItem, IonLabel, IonTextarea, IonButton } from '@ionic/vue';\n\nexport default {\n  name: 'Assistant',\n  components: { IonPage, IonHeader, IonToolbar, IonTitle, IonContent, IonList, IonItem, IonLabel, IonTextarea, IonButton },\n  setup() {\n    const messages = reactive([]);\n    const input = ref('');\n    const loading = ref(false);\n\n    const send = async () => {\n      const text = input.value.trim();\n      if (!text) return;\n      messages.push({ role: 'user', content: text });\n      input.value = '';\n      loading.value = true;\n      try {\n        const { data } = await api.post('/api/chat', { messages: messages.map(m => ({ role: m.role, content: m.content })) });\n        messages.push({ role: 'assistant', content: data.reply || data.choices?.[0]?.message?.content || '(No reply)' });\n      } catch (err) {\n        messages.push({ role: 'assistant', content: 'Sorry, there was an error. Please try again.' });\n        // eslint-disable-next-line no-console\n        console.error(err);\n      } finally {\n        loading.value = false;\n      }\n    };\n\n    return { messages, input, loading, send };\n  }\n};\n</script>\n\n<style scoped>\nion-item h3 {\n  margin: 0 0 4px;\n}\nion-item p {\n  white-space: pre-wrap;\n}\n</style>\n","import axios from 'axios';\n\nconst baseURL = process.env.VUE_APP_API_BASE_URL || '';\n\nconst api = axios.create({\n  baseURL,\n  headers: {\n    'Content-Type': 'application/json'\n  },\n  timeout: 15000\n});\n\nexport default api;\n","import { render } from \"./Assistant.vue?vue&type=template&id=1a7b9a6a&scoped=true\"\nimport script from \"./Assistant.vue?vue&type=script&lang=js\"\nexport * from \"./Assistant.vue?vue&type=script&lang=js\"\n\nimport \"./Assistant.vue?vue&type=style&index=0&id=1a7b9a6a&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/victorsaly/Documents/OliverMath/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-1a7b9a6a\"]])\n\nexport default __exports__"],"names":["_createBlock","_component_ion_page","_createVNode","_component_ion_header","_component_ion_toolbar","_component_ion_title","_component_ion_content","class","_component_ion_list","_createElementBlock","_Fragment","_renderList","$setup","m","idx","_component_ion_item","key","lines","_component_ion_label","_createElementVNode","_toDisplayString","role","content","_component_ion_textarea","$event","disabled","placeholder","_component_ion_button","expand","trim","onClick","baseURL","process","api","axios","headers","timeout","name","components","IonPage","IonHeader","IonToolbar","IonTitle","IonContent","IonList","IonItem","IonLabel","IonTextarea","IonButton","setup","messages","reactive","input","ref","loading","send","async","text","value","push","data","map","reply","choices","message","err","console","error","__exports__","render"],"sourceRoot":""}