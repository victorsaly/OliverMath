"use strict";(self["webpackChunkOliverMath"]=self["webpackChunkOliverMath"]||[]).push([[7039],{7039:function(e,n,t){t.r(n),t.d(n,{default:function(){return g}});var a=t(6252),o=t(3577);const l=(0,a.Uk)("Assistant");function s(e,n,t,s,u,i){const r=(0,a.up)("ion-title"),d=(0,a.up)("ion-toolbar"),p=(0,a.up)("ion-header"),c=(0,a.up)("ion-label"),m=(0,a.up)("ion-item"),w=(0,a.up)("ion-list"),h=(0,a.up)("ion-textarea"),f=(0,a.up)("ion-button"),g=(0,a.up)("ion-content"),_=(0,a.up)("ion-page");return(0,a.wg)(),(0,a.j4)(_,null,{default:(0,a.w5)((()=>[(0,a.Wm)(p,null,{default:(0,a.w5)((()=>[(0,a.Wm)(d,null,{default:(0,a.w5)((()=>[(0,a.Wm)(r,null,{default:(0,a.w5)((()=>[l])),_:1})])),_:1})])),_:1}),(0,a.Wm)(g,{class:"ion-padding"},{default:(0,a.w5)((()=>[(0,a.Wm)(w,null,{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.messages,((e,n)=>((0,a.wg)(),(0,a.j4)(m,{key:n,lines:"none"},{default:(0,a.w5)((()=>[(0,a.Wm)(c,null,{default:(0,a.w5)((()=>[(0,a._)("h3",null,(0,o.zw)("user"===e.role?"You":"Assistant"),1),(0,a._)("p",null,(0,o.zw)(e.content),1)])),_:2},1024)])),_:2},1024)))),128))])),_:1}),(0,a.Wm)(m,null,{default:(0,a.w5)((()=>[(0,a.Wm)(h,{modelValue:s.input,"onUpdate:modelValue":n[0]||(n[0]=e=>s.input=e),"auto-grow":"",disabled:s.loading,placeholder:"Ask a math question or request an explanation..."},null,8,["modelValue","disabled"])])),_:1}),(0,a.Wm)(f,{expand:"block",disabled:s.loading||!s.input.trim(),onClick:s.send},{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(s.loading?"Thinkingâ€¦":"Send"),1)])),_:1},8,["disabled","onClick"])])),_:1})])),_:1})}var u=t(2262),i=t(9669),r=t.n(i);const d="https://olivermath-api.azurewebsites.net",p=r().create({baseURL:d,headers:{"Content-Type":"application/json"},timeout:15e3});var c=p,m=t(4800),w={name:"Assistant",components:{IonPage:m._i,IonHeader:m.Gu,IonToolbar:m.sr,IonTitle:m.wd,IonContent:m.W2,IonList:m.q_,IonItem:m.Ie,IonLabel:m.Q$,IonTextarea:m.g2,IonButton:m.YG},setup(){const e=(0,u.qj)([]),n=(0,u.iH)(""),t=(0,u.iH)(!1),a=async()=>{const a=n.value.trim();if(a){e.push({role:"user",content:a}),n.value="",t.value=!0;try{const{data:n}=await c.post("/api/chat",{messages:e.map((e=>({role:e.role,content:e.content})))});e.push({role:"assistant",content:n.reply||n.choices?.[0]?.message?.content||"(No reply)"})}catch(o){e.push({role:"assistant",content:"Sorry, there was an error. Please try again."}),console.error(o)}finally{t.value=!1}}};return{messages:e,input:n,loading:t,send:a}}},h=t(3744);const f=(0,h.Z)(w,[["render",s],["__scopeId","data-v-1a7b9a6a"]]);var g=f}}]);
//# sourceMappingURL=7039.e8375202.js.map