"use strict";(self["webpackChunkOliverMath"]=self["webpackChunkOliverMath"]||[]).push([[808],{397:function(t,n,e){var r=e(7751);t.exports=r("document","documentElement")},679:function(t,n,e){var r=e(1625),o=TypeError;t.exports=function(t,n){if(r(n,t))return t;throw new o("Incorrect invocation")}},684:function(t){t.exports=function(t,n){var e="function"==typeof Iterator&&Iterator.prototype[t];if(e)try{e.call({next:null},n).next()}catch(r){return!0}}},808:function(t,n,e){e.r(n),e.d(n,{default:function(){return v}});var r=e(641),o=e(33);function a(t,n,e,a,i,u){const c=(0,r.g2)("ion-title"),s=(0,r.g2)("ion-toolbar"),l=(0,r.g2)("ion-header"),f=(0,r.g2)("ion-label"),p=(0,r.g2)("ion-item"),d=(0,r.g2)("ion-list"),h=(0,r.g2)("ion-textarea"),v=(0,r.g2)("ion-button"),y=(0,r.g2)("ion-content"),g=(0,r.g2)("ion-page");return(0,r.uX)(),(0,r.Wv)(g,null,{default:(0,r.k6)(()=>[(0,r.bF)(l,null,{default:(0,r.k6)(()=>[(0,r.bF)(s,null,{default:(0,r.k6)(()=>[(0,r.bF)(c,null,{default:(0,r.k6)(()=>[...n[1]||(n[1]=[(0,r.eW)("Assistant",-1)])]),_:1})]),_:1})]),_:1}),(0,r.bF)(y,{class:"ion-padding"},{default:(0,r.k6)(()=>[(0,r.bF)(d,null,{default:(0,r.k6)(()=>[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(a.messages,(t,n)=>((0,r.uX)(),(0,r.Wv)(p,{key:n,lines:"none"},{default:(0,r.k6)(()=>[(0,r.bF)(f,null,{default:(0,r.k6)(()=>[(0,r.Lk)("h3",null,(0,o.v_)("user"===t.role?"You":"Assistant"),1),(0,r.Lk)("p",null,(0,o.v_)(t.content),1)]),_:2},1024)]),_:2},1024))),128))]),_:1}),(0,r.bF)(p,null,{default:(0,r.k6)(()=>[(0,r.bF)(h,{modelValue:a.input,"onUpdate:modelValue":n[0]||(n[0]=t=>a.input=t),"auto-grow":"",disabled:a.loading,placeholder:"Ask a math question or request an explanation..."},null,8,["modelValue","disabled"])]),_:1}),(0,r.bF)(v,{expand:"block",disabled:a.loading||!a.input.trim(),onClick:a.send},{default:(0,r.k6)(()=>[(0,r.eW)((0,o.v_)(a.loading?"Thinkingâ€¦":"Send"),1)]),_:1},8,["disabled","onClick"])]),_:1})]),_:1})}e(4114),e(8111),e(1701);var i=e(953),u=e(4335);const c="https://olivermath-api.azurewebsites.net",s=u.A.create({baseURL:c,headers:{"Content-Type":"application/json"},timeout:15e3});var l=s,f=e(4989),p={name:"Assistant",components:{IonPage:f.AO,IonHeader:f.eU,IonToolbar:f.ai,IonTitle:f.BC,IonContent:f.W9,IonList:f.nf,IonItem:f.uz,IonLabel:f.he,IonTextarea:f.nc,IonButton:f.Jm},setup(){const t=(0,i.Kh)([]),n=(0,i.KR)(""),e=(0,i.KR)(!1),r=async()=>{const r=n.value.trim();if(r){t.push({role:"user",content:r}),n.value="",e.value=!0;try{const{data:n}=await l.post("/api/chat",{messages:t.map(t=>({role:t.role,content:t.content}))});t.push({role:"assistant",content:n.reply||n.choices?.[0]?.message?.content||"(No reply)"})}catch(o){t.push({role:"assistant",content:"Sorry, there was an error. Please try again."}),console.error(o)}finally{e.value=!1}}};return{messages:t,input:n,loading:e,send:r}}},d=e(6262);const h=(0,d.A)(p,[["render",a],["__scopeId","data-v-1a7b9a6a"]]);var v=h},1072:function(t,n,e){var r=e(1828),o=e(8727);t.exports=Object.keys||function(t){return r(t,o)}},1385:function(t,n,e){var r=e(9539);t.exports=function(t,n,e){for(var o=t.length-1;o>=0;o--)if(void 0!==t[o])try{e=r(t[o].iterator,n,e)}catch(a){n="throw",e=a}if("throw"===n)throw e;return e}},1701:function(t,n,e){var r=e(6518),o=e(9565),a=e(9306),i=e(8551),u=e(1767),c=e(9462),s=e(6319),l=e(9539),f=e(684),p=e(6930),d=e(6395),h=!d&&!f("map",function(){}),v=!d&&!h&&p("map",TypeError),y=d||h||v,g=c(function(){var t=this.iterator,n=i(o(this.next,t)),e=this.done=!!n.done;if(!e)return s(t,this.mapper,[n.value,this.counter++],!0)});r({target:"Iterator",proto:!0,real:!0,forced:y},{map:function(t){i(this);try{a(t)}catch(n){l(this,"throw",n)}return v?o(v,this,t):new g(u(this),{mapper:t})}})},1767:function(t){t.exports=function(t){return{iterator:t,next:t.next,done:!1}}},2106:function(t,n,e){var r=e(283),o=e(4913);t.exports=function(t,n,e){return e.get&&r(e.get,n,{getter:!0}),e.set&&r(e.set,n,{setter:!0}),o.f(t,n,e)}},2211:function(t,n,e){var r=e(9039);t.exports=!r(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})},2360:function(t,n,e){var r,o=e(8551),a=e(6801),i=e(8727),u=e(421),c=e(397),s=e(4055),l=e(6119),f=">",p="<",d="prototype",h="script",v=l("IE_PROTO"),y=function(){},g=function(t){return p+h+f+t+p+"/"+h+f},b=function(t){t.write(g("")),t.close();var n=t.parentWindow.Object;return t=null,n},x=function(){var t,n=s("iframe"),e="java"+h+":";return n.style.display="none",c.appendChild(n),n.src=String(e),t=n.contentWindow.document,t.open(),t.write(g("document.F=Object")),t.close(),t.F},m=function(){try{r=new ActiveXObject("htmlfile")}catch(n){}m="undefined"!=typeof document?document.domain&&r?b(r):x():b(r);var t=i.length;while(t--)delete m[d][i[t]];return m()};u[v]=!0,t.exports=Object.create||function(t,n){var e;return null!==t?(y[d]=o(t),e=new y,y[d]=null,e[v]=t):e=m(),void 0===n?e:a.f(e,n)}},2529:function(t){t.exports=function(t,n){return{value:t,done:n}}},2787:function(t,n,e){var r=e(9297),o=e(4901),a=e(8981),i=e(6119),u=e(2211),c=i("IE_PROTO"),s=Object,l=s.prototype;t.exports=u?s.getPrototypeOf:function(t){var n=a(t);if(r(n,c))return n[c];var e=n.constructor;return o(e)&&n instanceof e?e.prototype:n instanceof s?l:null}},4659:function(t,n,e){var r=e(3724),o=e(4913),a=e(6980);t.exports=function(t,n,e){r?o.f(t,n,a(0,e)):t[n]=e}},6279:function(t,n,e){var r=e(6840);t.exports=function(t,n,e){for(var o in n)r(t,o,n[o],e);return t}},6319:function(t,n,e){var r=e(8551),o=e(9539);t.exports=function(t,n,e,a){try{return a?n(r(e)[0],e[1]):n(e)}catch(i){o(t,"throw",i)}}},6801:function(t,n,e){var r=e(3724),o=e(8686),a=e(4913),i=e(8551),u=e(5397),c=e(1072);n.f=r&&!o?Object.defineProperties:function(t,n){i(t);var e,r=u(n),o=c(n),s=o.length,l=0;while(s>l)a.f(t,e=o[l++],r[e]);return t}},6930:function(t,n,e){var r=e(4576);t.exports=function(t,n){var e=r.Iterator,o=e&&e.prototype,a=o&&o[t],i=!1;if(a)try{a.call({next:function(){return{done:!0}},return:function(){i=!0}},-1)}catch(u){u instanceof n||(i=!1)}if(!i)return a}},7657:function(t,n,e){var r,o,a,i=e(9039),u=e(4901),c=e(34),s=e(2360),l=e(2787),f=e(6840),p=e(8227),d=e(6395),h=p("iterator"),v=!1;[].keys&&(a=[].keys(),"next"in a?(o=l(l(a)),o!==Object.prototype&&(r=o)):v=!0);var y=!c(r)||i(function(){var t={};return r[h].call(t)!==t});y?r={}:d&&(r=s(r)),u(r[h])||f(r,h,function(){return this}),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:v}},8111:function(t,n,e){var r=e(6518),o=e(4576),a=e(679),i=e(8551),u=e(4901),c=e(2787),s=e(2106),l=e(4659),f=e(9039),p=e(9297),d=e(8227),h=e(7657).IteratorPrototype,v=e(3724),y=e(6395),g="constructor",b="Iterator",x=d("toStringTag"),m=TypeError,w=o[b],I=y||!u(w)||w.prototype!==h||!f(function(){w({})}),k=function(){if(a(this,h),c(this)===h)throw new m("Abstract class Iterator not directly constructable")},O=function(t,n){v?s(h,t,{configurable:!0,get:function(){return n},set:function(n){if(i(this),this===h)throw new m("You can't redefine this property");p(this,t)?this[t]=n:l(this,t,n)}}):h[t]=n};p(h,x)||O(x,b),!I&&p(h,g)&&h[g]!==Object||O(g,k),k.prototype=h,r({global:!0,constructor:!0,forced:I},{Iterator:k})},9462:function(t,n,e){var r=e(9565),o=e(2360),a=e(6699),i=e(6279),u=e(8227),c=e(1181),s=e(5966),l=e(7657).IteratorPrototype,f=e(2529),p=e(9539),d=e(1385),h=u("toStringTag"),v="IteratorHelper",y="WrapForValidIterator",g="normal",b="throw",x=c.set,m=function(t){var n=c.getterFor(t?y:v);return i(o(l),{next:function(){var e=n(this);if(t)return e.nextHandler();if(e.done)return f(void 0,!0);try{var r=e.nextHandler();return e.returnHandlerResult?r:f(r,e.done)}catch(o){throw e.done=!0,o}},return:function(){var e=n(this),o=e.iterator;if(e.done=!0,t){var a=s(o,"return");return a?r(a,o):f(void 0,!0)}if(e.inner)try{p(e.inner.iterator,g)}catch(i){return p(o,b,i)}if(e.openIters)try{d(e.openIters,g)}catch(i){return p(o,b,i)}return o&&p(o,g),f(void 0,!0)}})},w=m(!0),I=m(!1);a(I,h,"Iterator Helper"),t.exports=function(t,n,e){var r=function(r,o){o?(o.iterator=r.iterator,o.next=r.next):o=r,o.type=n?y:v,o.returnHandlerResult=!!e,o.nextHandler=t,o.counter=0,o.done=!1,x(this,o)};return r.prototype=n?w:I,r}},9539:function(t,n,e){var r=e(9565),o=e(8551),a=e(5966);t.exports=function(t,n,e){var i,u;o(t);try{if(i=a(t,"return"),!i){if("throw"===n)throw e;return e}i=r(i,t)}catch(c){u=!0,i=c}if("throw"===n)throw e;if(u)throw i;return o(i),e}}}]);
//# sourceMappingURL=808.9d392e50.js.map